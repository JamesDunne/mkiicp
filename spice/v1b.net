* 12AX7 Gain Stage V1A Simulation

* Include the 12AX7 Subcircuit Models
.SUBCKT 12AX7 1 2 3; A G C;
X1 1 2 3 TriodeK MU=96.20 EX=1.437 KG1=613.4 KP=740.3 KVB=1672. RGI=2000 CCG=0.0P CGP=0.0P CCP=0.0P;
.ENDS

.SUBCKT TriodeK 1 2 3; A G C
E1 7 0 VALUE={V(1,3)/KP*LOG(1+EXP(KP*(1/MU+V(2,3)/SQRT(KVB+V(1,3)*V(1,3)))))}
RE1 7 0 1G
G1 1 3 VALUE={0.5*(PWR(V(7),EX)+PWRS(V(7),EX))/KG1}
RCP 1 3 1G
C1 2 3 {CCG}
C2 2 1 {CGP}
C3 1 3 {CCP}
D3 5 3 DX
R1 2 5 {RGI}
.MODEL DX D(IS=1N RS=1 CJO=10PF TT=1N)
.ENDS TriodeK

* Main Circuit Components for V1B
Vb+ b+ 0 405V                 ; B+ Voltage Source
Ra  b+ plate 100k             ; Plate Load Resistor
Rk  cath 0 1.5k               ; Cathode Resistor
Ck  cath 0 22uF               ; Cathode Bypass Capacitor
Vin grid 0 PWL(0 -24.0V 1s 24.0V)

* Instantiate the 12AX7 Triode
*       Plate Grid Cathode
X_U1A   plate grid cath 12AX7

* Analysis Command
.TRAN 1ms 1s                  ; Transient analysis over 1 second
.PROBE V(plate) V(grid)       ; Save plate and grid voltages for analysis

.END